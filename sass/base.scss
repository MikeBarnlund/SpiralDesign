@import 'compass/css3';

// ========================== Alternate Gothic Font Elements ======================

@mixin altgoth {
	font-weight: normal;
	font-family: "alternate-gothic-no-3-d", Helvetica, Arial, sans-serif;
	text-transform: uppercase;
}

// Variables

$brand1: #b4061d; /* red */
$brand2: #6a747c; /* grey */

$fontSize: 13px;
$fontFamily: "dejarip", Helvetica, Arial, sans-serif;
$fontDk: #222;
$fontMd: #444;
$fontLt: #999;
$fontVLt: #cccccc;
$bodyColor: #666;
$linkColor: $brand1;
$linkHoverColor: $linkColor - #222;

$defaultBorderColor: #333333;

$background: #FFF;

$defaultBorderColor: #CCC;

$navHeight: 60px + 80px; // logo + bottom padding = 57px. Asher requested 80px of whitespace above that.

$headerFooterBorder: 4px solid #242424;
$headerFooterBorder2: 1px dashed #888;

$gutterA: 44px;
$gutterB: 20px;

$h1background: #222;
$ltGreyBackground: #d1d1d1;
$mdLtGreyBackground: #bcbcbc;
$mdGreyBackground: #666666;

$footerHeight: $gutterA;
$footerPadding: $gutterB;

$selectionBackground: $bodyColor;
$selectionColor: $fontVLt;

/* ========================== General Elements ========================= */

html { height: 100%; }
body {
	height: 100%;
	color: $bodyColor;
	font-size: $fontSize;
	line-height: 1.7;
	font-family: $fontFamily;
	background: $background;
}
a { text-decoration: none; color: $linkColor; }
a:hover { color: $linkHoverColor; }
h1, h2, h3, h4 {
	margin: 0 0 $gutterB 0;
	color: $fontDk;
}
h1 { font-size: 22px; }
h2 { font-size: $fontSize + 4; }
h3 { font-size: $fontSize + 4; }
small { font-size: $fontSize - 2; }
em { color: $brand1; font-style: normal; }

*::selection {
	background: $selectionBackground;
	color: $selectionColor;
}
*::-moz-selection {
	background: $selectionBackground;
	color: $selectionColor;
}

.edit-link {
	@include altgoth();
	font-size: 15px;
	line-height: 15px;
	margin-bottom: 10px;
}

/* =================================== Layout ============================== */

#contentbody {
	position: relative;
	z-index: 0;
	overflow: hidden;

	.bodycontainer {
		padding: 0;
		width: 960px;
		margin: 0 auto;
		overflow: hidden;
		position: relative;
	}
}

#footer {
	position: relative;
	clear: both;
}
.container {
	width: 960px;
	margin: 0 auto;
}
.section {
	margin-bottom: $gutterB; overflow: hidden;
	&.spacer { margin-bottom: $gutterA; }
}

/* ========================= Header ========================= */

#header {
	overflow: hidden;
	margin-bottom: $gutterA;

	.container { overflow: hidden; }

	#nav {
		height: $navHeight;
		border-bottom: $headerFooterBorder;
		overflow: hidden;
		position: relative;

		.logo {
			position: absolute;
			height: 60px;
			left: 0; bottom: 18px;
		}

		.nav-menu {
			position: absolute;
			right: 0; bottom: 18px;
			height: 13px;

			.menu-custom-menu-container, a.twitter-logo { vertical-align: top; display: inline-block; *display: inline; zoom: 1; }

			a.twitter-logo {
				width: 17px;
				height: 12px;
				background-image: url(../img/twitter-sprite.png);
				background-position: 0 -19px;
				&:hover { background-position: 0 0; }
			}

			.menu {
				a {
					font-size: 18px;
					line-height: 16px;
					height: 13px;
					display: block;
					@include altgoth();
					padding: 0 0 0 10px;
					color: #000;
					vertical-align: baseline;
				}

				a:hover, .current_page_item a {
					color: $brand1;
				}
			}
		}

		li { float: left; height: 13px; }
	}

	h1 {
		font-size: 18px;
		@include altgoth();
		margin: 0;
		height: $gutterA;
		line-height: $gutterA + 2;
		border-bottom: $headerFooterBorder2;
	}
}

// =================== Interviews Page ===================
$interviewSlatGutter: 10px;
$featuredImageHeight: 245px;

.interviews {
	overflow: hidden;
}

.interview-slat {
	$interviewSlatWidth: 184px;
	width: $interviewSlatWidth;
	margin: 0 $interviewSlatGutter $gutterA 0;
	float: left;
	background: #777;
	position: relative;

	&.last { margin-right: 0; }
	&.upnext img { opacity: .12; }

	.interviewee-info {
		background: $ltGreyBackground;
		padding-bottom: 11px;
		padding-top: 13px;
	}

	h3.featured-interview {
		position: absolute;
		top: 0;
		background: $brand1;
		padding: 4px 0 1px 15px;
		width: $interviewSlatWidth - 15;
		color: #FFF;
		@include altgoth();
		font-size: 15px;
	}
	h3.up-next {
		position: absolute;
		top: 0;
		width: $interviewSlatWidth - 15;
		background: $ltGreyBackground;
		@include altgoth();
		font-size: 22px;
		color: $fontDk;

		padding: 4px 0 1px 15px;
		top: 108px; // featuredimageheight 245px, h3 height: 29px;
	}

	h2, h3 {
		@include altgoth();
		line-height: 1.1;
		margin: 0;
		padding: 0 15px;
		font-size: 15px;
	}
	h2 { color: $fontVLt; }
	h3.interviewee-title { height: 33px; }

	img { width: $interviewSlatWidth; }
}

/* ========================= Posts ======================== */

h2.entry-title {
	margin-bottom: 0;
}
.featured {
	margin-bottom: $gutterB;
}
$postSlatGutter: 26px;
.post-slat {
	clear: both;
	margin-bottom: $postSlatGutter;
	background: $ltGreyBackground;
	overflow: hidden;
	position: relative;

	h2, h4 { @include altgoth(); line-height: 1.1; margin: 0; }
	h4 { color: $brand1; }
	h2 {
		color: $fontVLt;
		background: $mdGreyBackground;
		padding: 15px $gutterB 11px $gutterB;
		margin-bottom: $gutterB;
		font-size: 19px;
	}
	.cat-links {
		@include altgoth();
		height: 58px;
		font-size: 16px;
		color: $brand1;
		background: $mdLtGreyBackground;
		position: relative;
		span {
			position: absolute;
			bottom: 7px;
			left: $gutterB;
			line-height: 1;
		}
	}
	.featured {
		float: left; margin-bottom: 0;
		img { max-width: 600px;}
	}
	.summary { padding: 0 $gutterB 5px $gutterB; } // 5px to account for content margin
	.more-link {
		color: #333;
		@include altgoth();
		position: absolute;
		bottom: $gutterB;
		right: $gutterB;
		font-size: 15px;
	}
	ul.media-credits {
		@include altgoth();
		font-size: 16px;
		line-height: 16px;
		margin-bottom: 10px;
		a { color: $bodyColor; }
	}
}
.single-post {
	.cat-links {
		height: 40px;
		span { bottom: 3px; }
	}
	h2 {
		padding: 8px 20px 3px;
	}
}
ul.post-links {
	background: $ltGreyBackground;
	list-style-type: square;
	list-style-image: none;
	list-style-position: inside;
	overflow: hidden;
	margin-bottom: $gutterA;
	li {
		height: 34px;
		line-height: 36px;
		color: $brand1;
		@include altgoth();
		font-size: 18px;
		float: left;
		margin-left: 19px;
		a { color: $fontMd; vertical-align: middle; &:hover { color: $linkColor; } }
	}
}

.alignright { float: right; margin-left: 10px; }
.alignleft { float: left; margin-right: 10px; }

/* ==================== Footer ================= */

#footer {
	padding-bottom: $gutterA;

	a { text-decoration: none; }

	.container {
		border-top: $headerFooterBorder;
		border-bottom: $headerFooterBorder2;
		position: relative;
		height: $footerHeight;
		line-height: $footerHeight - 2;

		a.twitter, a.email, a.vv {
			float: left;
			height: 25px;
			background-image: url(../img/footer-logo-sprite.png);
			margin: 9px 10px 0 0;
			vertical-align: middle;
		}
		a.twitter {
			background-position: 0 0;
			width: 23px;
			&:hover { background-position: 0 -100%; }
		}
		a.email {
			background-position: -34px 0;
			width: 24px;
			&:hover { background-position: -34px -100%; }
		}
		a.vv {
			background-position: -71px 0;
			width: 24px;
			&:hover { background-position: -71px -100%; }
		}
		a.copyright-link {
			color: $bodyColor;
			&:hover { color: $linkColor; }
		}
		span {
			@include altgoth();
			font-size: 13px;
			display: inline-block;
			line-height: 47px;
			*display: inline; zoom: 1;
		}
	}
}

// Post navigation

#footer {
	.footer-navigation {
		position: absolute;
		right: 0; top: 2px; // vertically centers text
		text-align: right;
		height: $footerHeight;
		line-height: $footerHeight;
		a {
			font-size: 15px;
			@include altgoth();
			color: $fontDk;
			background: none;
			padding-left: 20px;
			vertical-align: middle;
		}
	}
}


/* ========================= Post Display ========================= */

.entry-content { margin: 0; overflow: hidden; }
.entry-date { }
p { margin: 0 0 10px 0; }

/* ========================= Content ========================== */

.content {
	width: 960px;
	position: relative;

	h1 {
		position: relative;
		@include altgoth();
		height: 16px;
		background: $h1background;
		span {
			position: absolute;
			top: -8px;
			left: 0;
			background: #FFF;
			color: $brand1;
			display: inline-block;
			*display: inline; zoom: 1;
			padding-right: 10px;
			em { color: $fontDk; }
		}
		&.check-out { background: #757575; }
	}
}

// ===================== Interview Header ========================

.interview-header {
	$textColor: #999;
	background: url(../img/ihbg.gif) top left;;
	color: $textColor;
	overflow: hidden;
	position: relative;

	img.featured { float: left; margin-bottom: 0; }

	.header-content {
		margin-left: 246px;  	// image width
		padding: 72px 40px 40px 40px;
	}
	.interviewee-wrapper {
		// background: url(../img/ihbg-title.gif) top left;
		background: #222;
		// border: 1px solid #444;
		// border: 1px solid rgba(255,255,255,.07);
		padding: 10px 15px;
		margin-bottom: $gutterB;
		h2, h3 { margin: 0; @include altgoth(); line-height: 1; }
		h2 { color: $brand1; font-size: 25px; }
		h3 { color: $fontLt; font-size: 19px; }
	}

	.read-interview {
		line-height: 1;
		position: absolute;
		bottom: $gutterA;
		right: $gutterA;
		font-size: 15px;
		@include altgoth();
		color: $textColor;
		em { color: $brand1; }
		&:hover { color: $linkColor; }
	}

	.social {
		position: absolute;
		bottom: $gutterA;
		right: $gutterA;
		a {
			display: inline-block;
			*display: inline; zoom: 1;
			width: 38px;
			height: 27px;
			background-position: 0 0;
			background-repeat: no-repeat;
			&.twitter { background-image: url(../img/twitter.png); }
			&.email { background-image: url(../img/email.png); margin-left: 15px; }
			&:hover { background-position: 0 100%; }
		}
	}
}

.about-page {
	.interview-header .header-content {
		margin-left: 217px;
	}
}

// ================= Upcoming Interview Slat ====================

$uimargin: 15px;
$uimarginoffset: 4px;

.upcoming-interview {
	background: $ltGreyBackground;
	padding: $uimargin $uimargin $uimargin - $uimarginoffset $uimargin;
	margin-right: $uimargin;
	width: ( 960px - $uimargin * 3 ) / 4 - $uimargin * 2;
	float: left;
	h2, h3 { @include altgoth(); line-height: 1; margin: 0; }
	h2 { color: $brand1; }
	h3 { color: $bodyColor; font-size: 15px; }
}

h1.upcoming-interviews {
	background: $mdGreyBackground;
	span { color: $fontDk; }
}

.previous-interviews {
	$contentHeight: 58px - 5; // remove borders from height
	float: left;
	@include altgoth();
	height: $contentHeight;
	line-height: 58px;
	width: ( 960px - $uimargin * 3 ) / 4;
	border-top: $headerFooterBorder;
	border-bottom: 1px solid $defaultBorderColor;
	text-align: center;
	font-size: 19px;
	color: $fontDk;
	&:hover { color: $linkColor; }
}

// ================= About Page Links =================

ul.links {
	background: $ltGreyBackground;
	padding: $gutterB $gutterB 15px $gutterB;
	float: left;
	margin-right: $gutterB;
	li {
		@include altgoth();
		font-size: 18px;
		line-height: 1.2;
		a { color: $fontMd; &:hover { color: $linkColor; } }
	}
}

// =================== Single Interview ====================

$interviewGutter: 39px;
$interviewContentGutter: 21px;
$interviewColumnGap: 45px;
$interviewGutterOffset: 8px;  // approximate distance from bottom of upper case letter to bottom of line
$blockQuoteGutterOffset: 10px;  // To account for line height
$blockQuoteGutter: $interviewGutter - $blockQuoteGutterOffset;  // For top & bottom
$captionGutterOffset: 3px;
$captionGutter: $interviewGutter - $captionGutterOffset;
$lineGutter: 32px;

.interview {
	h1 { margin-bottom: $interviewGutter; }
	h3 {
		@include altgoth();
		font: $fontDk;
		line-height: 1;
		font-size: 19px;
		margin-bottom: 3px;
		&.answer { color: $brand1; }
	}
	p, ul {
		margin-bottom: $interviewContentGutter;
		&.spacer { margin-bottom: $interviewContentGutter + 18px - $interviewGutterOffset;}
	}
	ul {
		list-style: disc outside none;
		margin-left: 1em;
	}
	img {
		&.left { margin: 0 $interviewGutter $interviewGutter 0; }
		&.right { margin: 0 0 $interviewGutter $interviewGutter; }
		&.full-width {
			display: block;
			width: 960px;
			margin: 0 0 $interviewGutter 0;
		}
	}

	blockquote {
		@include altgoth();
		line-height: 1.2;
		text-transform: none;
		color: $fontDk;
		p { margin: 0; }
		&.left, &.right {
			width: 325px;
			font-size: 35px;
		}
		&.left {
			margin: 0 $interviewGutter $blockQuoteGutter 0;
		}
		&.right {
			margin: 0 0 $blockQuoteGutter $interviewGutter;
			text-align: right;
		}
		&.full-width {
			clear: both;
			font-size: 47px;
			width: 960px;
			margin: 0 0 $blockQuoteGutter 0;
		}
		&.line-1, &.line-2, &.line-3 { padding-top: $lineGutter - $blockQuoteGutterOffset; }
		&.line-1-after, &.line-2-after, &.line-3-after {
			padding-bottom: $lineGutter - $blockQuoteGutterOffset;
			margin-bottom: $blockQuoteGutter + $blockQuoteGutterOffset;  // add the offset back in since there's no text
		}
	}

	.caption {
		margin-top: -$interviewGutter + 10;
		font-size: 11px;
		font-style: italic;
		color: $bodyColor;
		margin-bottom: $captionGutter;
		width: 325px;
		line-height: 1.3;
		&.left { text-align: left; margin-right: $interviewGutter; }
		&.right { text-align: right; margin-left: $interviewGutter; }
		&.full-width { width: 960px; }
		&.line-1, &.line-2, &.line-3 { padding-top: $lineGutter - $captionGutterOffset; }
		&.line-1-after, &.line-2-after, &.line-3-after {
			padding-bottom: $lineGutter - $captionGutterOffset;
			margin-bottom: $blockQuoteGutter + $captionGutterOffset;  // add the offset back in since there's no text
		}
	}

	.three-column {
		@include column-count( 3 );
		@include column-gap( 49px );
		width: 100%;
		margin-bottom: $interviewContentGutter;
		&.line-1, &.line-2, &.line-3 { padding-top: $lineGutter - $interviewGutterOffset; }
		&.line-1-after, &.line-2-after, &.line-3-after {
			padding-bottom: $lineGutter - $interviewGutterOffset;
			margin-bottom: $lineGutter + $interviewGutterOffset;  // add the offset back in since there's no text
		}
	}

	.larger-text {
		font-size: 16px;
		p { margin-bottom: $interviewGutter - $interviewGutterOffset * 2; }
		&.line-1, &.line-2, &.line-3 { padding-top: $lineGutter - $interviewGutterOffset; }
		&.line-1-after, &.line-2-after, &.line-3-after {
			margin-bottom: $lineGutter + $interviewGutterOffset;  // add the offset back in since there's no text
		}
	}

	.bold-italic {
		font-style: italic;
		font-weight: bold;
	}

	.single-line { height: 33px - 9px; }
	.line-1 { border-top: 3px solid $fontDk; }
	.line-2 { border-top: 1px solid $fontDk; }
	.line-3 { border-top: 1px dashed $fontDk; }
	.line-1-after { border-bottom: 3px solid $fontDk; }
	.line-2-after { border-bottom: 1px solid $fontDk; }
	.line-3-after { border-bottom: 1px dashed $fontDk; }

	.single-spacer { font-size: 0; height: 7px; }

	.right { clear: right; float: right; }
	.left { clear: left; float: left; }
	.text-center { text-align: center; }
	.text-left { text-align: left; }
	.text-right { text-align: right; }
	.clear-left { clear: left; }
	.clear-right { clear: right; }
	.clear-both { clear: both; }
}

// =========== 404 Page ===========

.not-found a { @include altgoth(); font-size: 15px; }