@import "compass/css3";

@font-face {
	font-family: 'PTSansBold';
	src: url('../fonts/pt-sans/PTS75F-webfont.eot');
	src: local('☺'), url('../fonts/pt-sans/PTS75F-webfont.woff') format('woff'), url('../fonts/pt-sans/PTS75F-webfont.ttf') format('truetype'), url('../fonts/pt-sans/PTS75F-webfont.svg#webfontpfl2y6jq') format('svg');
	font-weight: normal;
	font-style: normal;
}

@font-face {
	font-family: 'PTSansRegular';
	src: url('../fonts/pt-sans/PTS55F-webfont.eot');
	src: local('☺'), url('../fonts/pt-sans/PTS55F-webfont.woff') format('woff'), url('../fonts/pt-sans/PTS55F-webfont.ttf') format('truetype'), url('../fonts/pt-sans/PTS55F-webfont.svg#webfontmBFaK3EM') format('svg');
	font-weight: normal;
	font-style: normal;
}

// Variables

$brand1: #c65a1e; /* orange */
$brand2: #303030; /* grey */
$brand3: #056d96; /* blue */

$fontSize: 15px;
$fontFamily: "PTSansRegular", Helvetica, Arial, sans-serif;
$bodyColor: #CCC;
$linkColor: $brand3 + #111;
$linkHoverColor: $linkColor + #222;

$contentBg: #404040;

$background: #353535;
$headerBackground: $brand2;

$footerHeight: 5px;
$footerPadding: 20px;

$defaultBorderColor: #222;

$navHeight: 30px;

@mixin strong {
	font-family: "PTSansBold";
}

/* ========================== General Elements ========================= */

html { height: 100%; }
body {
	height: 100%;
	color: $bodyColor;
	font-size: $fontSize;
	font-family: $fontFamily;
	background: $background;
}
a { text-decoration: underline; color: $linkColor; }
a:hover { color: $linkHoverColor; }
h1 { font-size: $fontSize + 18; }
h2 { font-size: $fontSize + 7; }
small { font-size: $fontSize - 2; }
em { font-style: italic; }

/* =================================== Layout ============================== */

#contentwrapper			{
	position: relative;
	min-height: 100%;
	max-width: 805px;
	margin: 0 auto;
}
#contentbody {

}

* html #contentwrapper	{ height: 100%; }

#footer {
	position: relative;
	height: $footerHeight;
	margin-top: 0 - $footerHeight;
	clear: both;
}

/* ========================= Header ========================= */

header {
	height: 200px;
	background: $headerBackground;
	margin-bottom: 70px;

	.diamond_border {
		$borderColorOffset: #040404;
		$diamondsize: 35px;
		height: $diamondsize;
		width: $diamondsize;
		background: $headerBackground;
		-moz-transform:rotate(45deg);
		display: inline-block;
		margin-bottom: -126px;
		margin-right: 13px;
		border-right: 1px solid $background + $borderColorOffset * 2;
		border-bottom: 1px solid $background - $borderColorOffset;
	}
}

/* ===================== Reusable ===================== */

.alignright { float: right; margin-left: 10px; }
.alignleft { float: left; margin-right: 10px; }

/* ========= Grid ========= */

@-webkit-keyframes flipVertical {
	0% { -webkit-transform: rotateY(0deg); }
	100% { -webkit-transform: rotateY(180deg); }
}

@-webkit-keyframes flipHorizontal {
	0% { -webkit-transform: rotateX(0deg); }
	100% { -webkit-transform: rotateX(180deg); }
}

@-moz-keyframes flipVertical {
	0% { -moz-transform: rotateY(0deg); }
	100% { -moz-transform: rotateY(180deg); }
}

@-moz-keyframes flipHorizontal {
	0% { -moz-transform: rotateX(0deg); }
	100% { -moz-transform: rotateX(180deg); }
}

ul.grid {
	$defaultCellSize: 155px;
	$gridGutter: 5px;
	$animationDuration: .5s;
	position: relative;
	-webkit-perspective: 1000px;
	-moz-perspective: 1000px;
	padding: $gridGutter 0 0 $gridGutter;

	li {
		float: left;
		display: block;
		width: $defaultCellSize;
		height: $defaultCellSize;
		position: relative;
		cursor: pointer;
		margin: 0 $gridGutter $gridGutter 0;

		-webkit-transform-style: preserve-3d;
		-webkit-backface-visibility: hidden;
		-moz-transform-style: preserve-3d;
		-moz-backface-visibility: hidden;

		//-webkit-animation: flipVertical 1s ease-in;

		&.anim-hflip, &.anim-vflip {
			-webkit-transition: $animationDuration all ease-out;
			-moz-transition: $animationDuration all ease-out;
		}
		&.anim-fade {
			-webkit-transition: $animationDuration all linear;
			-moz-transition: $animationDuration all linear;
		}

		&.anim-hflip {
			&.on {
				-webkit-transform: rotateY(180deg);
				-moz-transform: rotateY(180deg);
			}
		}

		&.anim-vflip {
			&.on {
				-webkit-transform: rotateY(180deg);
				-moz-transform: rotateY(180deg);
			}
		}

		&.anim-fade {
			&.on { opacity: 0; }
		}

		&.nav { background: $brand1; }
		&.post_link { background: $brand3;}
		&.work {
			overflow: hidden;
			background: #222;
			span { width: 100%;}
			img { opacity: .1; }
			em { font-size: 50%; }
		}

		&.dbl {
			width: $defaultCellSize * 2 + $gridGutter;
			background: #303030;
			span {
				em {
					font-style: normal;
					display: block;
					font-size: 80%;
				}
			}
		}

		&.full {
			position: absolute;
			width: 100%;
			height: 100%;
		}

		span {
			display: block;
			position: absolute;
			padding: 10px;
			bottom: 0;
			right: 0;
			color: #FFF;
			font-size: 150%;
			//text-shadow: 0 -1px 0 rgba(0,0,0,.2);
			text-align: right;

			small {
				display: block;
			}
		}

		img { max-width: 100%; }
	}
}

// ===================== Post Styling ==========================

.bodycontainer {
	background: $contentBg;
	overflow: hidden;
	@include border-radius( 2px );
	@include single-box-shadow( rgba(0,0,0,.5), 0px, 0px, 3px, 0px, true);
}

$postGutter: 20px;
#async-container {
	$borderOffset: #070707;

	.post {
		padding: 0 $postGutter $postGutter $postGutter;
		color: $bodyColor;
		h1 {
			padding-bottom: $postGutter - 5px;
			color: #FFF;
			border-bottom: 1px solid $contentBg - $borderOffset;
		}
		.entry-meta {
			font-size: $fontSize - 3;
			padding-top: $postGutter;
			margin-bottom: $postGutter;
			color: #AAA;
			border-top: 1px solid $contentBg + $borderOffset;
			small { font-size: $fontSize - 4; }
		}
	}
}

// ====================== Navigation / Display ========================

$navmenuHeight: 40px;
$navmenuItemHeight: 30px;
$contentSlideSpeed: .5s;

#navgrid { overflow: hidden; }

#viewport {
	width: 200%;
	-webkit-transition: $contentSlideSpeed all ease-out;
	-moz-transition: $contentSlideSpeed all ease-out;
	&.slideleft {
		-webkit-transform: translate( -50% );
		-moz-transform: translate( -50% );
	}
	&.slideright {
		-webkit-transform: translate( 0% );
		-moz-transform: translate( 0% );
	}
}
#navgrid, #async-container {
	width: 50%;
	float: left;
}

#async-container {
	//margin-top: $navmenuHeight;
}

#nav-menu {
	$navBorderColor: #505050;
	height: $navmenuHeight;
	//@include linear-gradient( $navmenuBg2, $navmenuBg1 );
	border-bottom: 1px dashed $navBorderColor;
	padding: 0 0 5px 0;
	margin: $postGutter;
	#home-button {
		color: $bodyColor;
		text-decoration: none;
		height: $navmenuItemHeight;
		line-height: $navmenuItemHeight;
		padding: 0 10px;
		display: inline-block;
		*display: inline; *zoom: 1;
		@include border-radius( 5px );
		background: $contentBg - #040404;
		&:hover {
			background: $contentBg - #111;
		}
	}
}
